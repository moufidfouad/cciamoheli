{% extends 'base.html.twig' %}

{% block title %}
    {{ 'security.login.title' | trans }}
{% endblock %}
{% block stylesheets %}
    <link href="{{ asset('build/mirko/css/login.css') }}" rel="stylesheet">
{% endblock %}
{% block content %}
    <section class="services d-flex align-items-center py-5">
        <div class="container text-light">
            <div class="wrapper">
                <div class="card">
                    <form action="{{ path("web_login") }}" method="post" autocomplete="off" class="d-flex flex-column">
                        <div class="h3 text-center text-white">{{ 'security.login.title' | trans }}</div>
                            {% if error %}
                                <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                            {% endif %}
                        <div class="d-flex align-items-center input-field my-3 mb-4"> 
                            <span class="far fa-user p-2"></span> 
                            <input 
                                type="text" 
                                value="{{ last_username }}" 
                                name="_username" 
                                placeholder="{{ 'security.login.username' | trans }}" 
                                required class="form-control" /> 
                        </div>
                        <div class="d-flex align-items-center input-field mb-4"> 
                            <span class="fas fa-lock p-2"></span> 
                            <input 
                                type="password" 
                                name="_password" 
                                placeholder="{{ 'security.login.password' | trans }}" 
                                required 
                                class="form-control" 
                                id="pwd" /> 
                            <button class="btn" onclick="showPassword()"> 
                                <span class="fas fa-eye-slash"></span> 
                            </button> 
                        </div>
                        <input 
                            type="hidden" 
                            name="_csrf_token"
                            value="{{ csrf_token('authenticate') }}" />
                        <div class="my-3"> 
                            <button type="submit" class="btn btn-primary">
                                {{ 'security.login.btn' | trans }}
                            </button> 
                        </div>
                    </form>
                </div>
            </div>
        </div> <!-- end of container -->
    </section> <!-- end of services -->
{% endblock %}
{% block javascripts %}
    <script src="{{ asset('build/mirko/js/login.js') }}"></script>
{% endblock %}
